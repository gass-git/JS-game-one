<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <script src="engine-v3.js" defer></script>
    <script src="instructions.js" defer></script>
    <title>Jufofa 0.7 | on development</title>
  </head>
  <body id="body">

    <!-- Show this message if its a touch device -->
    <div id="message" style="display:none"> 
      This game does not work on touch screen devices.
    </div>

    <div id="score" style="display:block">0</div>
    <div class="canvas-wrapper" id="game-wrapper" style="display:block">
      
      <!-- IMPORTANT: width and height must be multiples of 2 -->
      <canvas id="canvas" width="240" height="400"></canvas>    

      <!-- Buttons -->
      <button id="startBtn" class="btn">start game</button>

      <button id="instructionsBtn" class="btn">show instructions</button>
    
      <div class="tooltiptext" id="tooltip" style="display: none">
        <span >It's not possible to read the instructions during a game.</span>
      </div>

      <!-- Instructions -->
      <div id="instructions">
        Move the pieces by pressing the arrow keys to make as many
        lines of the same color as possible.
        <br><br>
        <p>
          - Crystal pieces are valid for any color.
        </p>
        <p>
          - When a bomb impacts, it destroys all sorrounding pieces except crystals.
        </p>
        <p>
          - The long vertical crystal rotates when pressing the up arrow key.
        </p>
        <p>
          - Press the down arrow key if to make pieces fall faster.
        </p>
      </div>

    </div>
    <footer>
      <a href="https://github.com/gass-git/jufofa" target="_blank">Jufofa</a> 2022 - Built from scratch by 
      <a href="https://github.com/gass-git" target="_blank">Gass</a> - Using <a href="https://opengameart.org/content/puzzle-game-art" target="_blank">Kenney UI pack</a> and <a href="https://www.svgbackgrounds.com/" target="_blank">SVG backgrounds</a>
    </footer>
  </body>
  <script>
    if(window.matchMedia("(pointer: coarse)").matches) {
      const score = document.getElementById('score'),
            canvasWrapper = document.getElementById('game-wrapper'),
            message = document.getElementById('message');

      message.style.display = "block";
      score.style.display = "none";
      canvasWrapper.style.display = "none";
    }
  </script>
</html>

